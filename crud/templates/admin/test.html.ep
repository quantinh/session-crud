<!DOCTYPE html>
<html>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>AJAX GET</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script type="text/javascript">
		$(document).ready(() => {
			// Sự kiện click vào nút Submit thì thực hiện xử lý trả dữ liệu về theo phương thức Get
			$('#process').click(() => {
				$.ajax({
					url		    : 'http://127.0.0.1:3000/api/hello', // Tạo đường dẫn đến file xử lý
					type		: 'GET',                            // Gửi dữ liệu đi và nhận dữ liệu về theo phương thức POST
					timeout     : 3000,                             // 3s Thời gian tại trang trả dữ liệu về tối đa 3s nếu đk sẽ lỗi
					success     : function(data, status) {
						console.log(JSON.stringify(data.actor_id));
						console.log(status);
                        // Tạo HTML table từ dữ liệu nhận được
                        var table = 
                        '<table>
                            <thead>
                                <tr>
                                    <th>actor_id</th>
                                    <th>first_name</th>
                                    <th>last_name</th>
                                    <th>last_update</th>
                                    <th>actions</th>
                                </tr>
                            </thead>
                            <tbody>';
                                table += 
                                '<tr>
                                    <td>' + data.actor_id + '<tr>
                                    <td>' + data.first_name + '</td>
                                    <td>' + data.last_name + '</td>
                                    <td>' + data.last_update.join(', ') + '</td>
                                </tr>';
                                table += 
                            '</tbody>
                        </table>';
                        // Hiển thị table trong phần tử có id là 'result'
                        $('#result').html(table);
					}
				})
			});
		});
	</script>
    <body>
        <div class="list">  
			<input type="button" class="btn btn-primary" name="process" id="process" value ="Process"/>
		</div>
        <div id="result"></div>
    </body>
</html>